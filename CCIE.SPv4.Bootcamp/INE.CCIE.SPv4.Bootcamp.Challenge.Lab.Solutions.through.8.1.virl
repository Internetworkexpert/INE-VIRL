<?xml version='1.0' encoding='UTF-8' standalone='yes'?>
<topology xmlns="http://www.cisco.com/VIRL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" schemaVersion="0.95" xsi:schemaLocation="http://www.cisco.com/VIRL https://raw.github.com/CiscoVIRL/schema/v0.95/virl.xsd">
    <extensions>
        <entry key="lxc.node.static_ip" type="String">172.16.1.99</entry>
        <entry key="lxc.host.static_ip" type="String">172.16.1.100</entry>
        <entry key="management_network" type="String">flat</entry>
        <entry key="AutoNetkit.infrastructure_only" type="Boolean">true</entry>
    </extensions>
    <node name="R1" type="SIMPLE" subtype="CSR1000v" location="389,608" ipv4="1.1.1.1" ipv6="2001:cc13::1">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 18:30:09 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R1
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
ethernet lmi ce
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip multicast-routing distributed
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-2904609086
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-2904609086
 revocation-check none
 rsakeypair TP-self-signed-2904609086
!
!
crypto pki certificate chain TP-self-signed-2904609086
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 97P9HXJMIHJ
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$ObFw$sh86AaD0qhQTEMaAoQfhe1
username ccie password 0 spv4
username ccie autocommand menu main_menu
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.1 255.255.255.255
 ipv6 address 2001:CC13::1/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.101 255.255.255.0
 negotiation auto
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R2
 ip address 10.0.0.5 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:6/126
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
!
interface GigabitEthernet3
 description to R3
 ip address 10.0.0.9 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:A/126
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
!
router ospfv3 1
 router-id 1.1.1.1
 prefix-suppression
 bfd all-interfaces
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospf 1
 prefix-suppression
 fast-reroute per-prefix enable area 0 prefix-priority high
 passive-interface Loopback0
 network 1.1.1.1 0.0.0.0 area 0
 network 10.0.0.4 0.0.0.3 area 0
 network 10.0.0.8 0.0.0.3 area 0
 bfd all-interfaces
 mpls ldp autoconfig
!
router bgp 100
 template peer-policy IBGP_POLICY
  route-reflector-client
 exit-peer-policy
 !
 template peer-session IBGP_SESSIONS
  remote-as 100
  update-source Loopback0
 exit-peer-session
 !
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 neighbor 1.1.1.2 inherit peer-session IBGP_SESSIONS
 neighbor 1.1.1.3 inherit peer-session IBGP_SESSIONS
 neighbor 1.1.1.4 inherit peer-session IBGP_SESSIONS
 neighbor 1.1.1.5 inherit peer-session IBGP_SESSIONS
 neighbor 1.1.1.16 remote-as 200
 neighbor 1.1.1.16 ebgp-multihop 255
 neighbor 1.1.1.16 update-source Loopback0
 !
 address-family ipv4
  neighbor 1.1.1.2 activate
  neighbor 1.1.1.2 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.3 activate
  neighbor 1.1.1.3 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.4 activate
  neighbor 1.1.1.4 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.5 activate
  neighbor 1.1.1.5 inherit peer-policy IBGP_POLICY
 exit-address-family
 !
 address-family vpnv4
  neighbor 1.1.1.2 activate
  neighbor 1.1.1.2 send-community extended
  neighbor 1.1.1.2 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.3 activate
  neighbor 1.1.1.3 send-community extended
  neighbor 1.1.1.3 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.4 activate
  neighbor 1.1.1.4 send-community extended
  neighbor 1.1.1.4 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.5 activate
  neighbor 1.1.1.5 send-community extended
  neighbor 1.1.1.5 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.16 activate
  neighbor 1.1.1.16 send-community extended
  neighbor 1.1.1.16 next-hop-unchanged
  neighbor 1.1.1.16 route-map RT_REWRITE in
 exit-address-family
 !
 address-family ipv4 mdt
  neighbor 1.1.1.3 activate
  neighbor 1.1.1.3 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.4 activate
  neighbor 1.1.1.4 inherit peer-policy IBGP_POLICY
 exit-address-family
 !
 address-family vpnv6
  neighbor 1.1.1.2 activate
  neighbor 1.1.1.2 send-community extended
  neighbor 1.1.1.2 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.3 activate
  neighbor 1.1.1.3 send-community extended
  neighbor 1.1.1.3 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.4 activate
  neighbor 1.1.1.4 send-community extended
  neighbor 1.1.1.4 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.5 activate
  neighbor 1.1.1.5 send-community extended
  neighbor 1.1.1.5 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.16 activate
  neighbor 1.1.1.16 send-community extended
  neighbor 1.1.1.16 next-hop-unchanged
  neighbor 1.1.1.16 route-map RT_REWRITE in
 exit-address-family
 !
 address-family l2vpn vpls
  neighbor 1.1.1.2 activate
  neighbor 1.1.1.5 activate
  neighbor 1.1.1.5 inherit peer-policy IBGP_POLICY
  neighbor 1.1.1.16 activate
  neighbor 1.1.1.16 prefix-length-size 2
  neighbor 1.1.1.16 next-hop-unchanged
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
ip pim ssm default
!
ip extcommunity-list 1 permit rt 200:18
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
kron occurrence KRONJOB in 1 recurring system-startup
 policy-list KRONPOLICY
!
kron policy-list KRONPOLICY
 cli event manager run CLI_AFTER_BOOT
 cli event manager run CLI_AFTER_BOOT
 cli event manager run CLI_AFTER_BOOT
 cli event manager run CLI_AFTER_BOOT
 cli event manager run CLI_AFTER_BOOT
 cli event manager run CLI_AFTER_BOOT
!
!
!
!
menu main_menu prompt ^CCCEnter Selection: ^C
menu main_menu text 1. Connect to R1
menu main_menu command 1. telnet 172.16.1.101  /vrf Mgmt-intf
menu main_menu text 2. Connect to R2
menu main_menu command 2. telnet 172.16.1.102 /vrf Mgmt-intf
menu main_menu text 3. Connect to R3
menu main_menu command 3. telnet 172.16.1.103 /vrf Mgmt-intf
menu main_menu text 4. Connect to R4
menu main_menu command 4. telnet 172.16.1.104 /vrf Mgmt-intf
menu main_menu text 5. Connect to R5
menu main_menu command 5. telnet 172.16.1.105 /vrf Mgmt-intf
menu main_menu text 6. Connect to R6
menu main_menu command 6. telnet 172.16.1.106 /vrf Mgmt-intf
menu main_menu text 7. Connect to R7
menu main_menu command 7. telnet 172.16.1.107 /vrf Mgmt-intf
menu main_menu text 8. Connect to R8
menu main_menu command 8. telnet 172.16.1.108 /vrf Mgmt-intf
menu main_menu text 9. Connect to R9
menu main_menu command 9. telnet 172.16.1.109 /vrf Mgmt-intf
menu main_menu text 10. Connect to R10
menu main_menu command 10. telnet 172.16.1.110 /vrf Mgmt-intf
menu main_menu text 11. Connect to R11
menu main_menu command 11. telnet 172.16.1.111 /vrf Mgmt-intf
menu main_menu text 12. Connect to R12
menu main_menu command 12. telnet 172.16.1.112 /vrf Mgmt-intf
menu main_menu text 13. Connect to R13
menu main_menu command 13. telnet 172.16.1.113 /vrf Mgmt-intf
menu main_menu text 14. Connect to R14
menu main_menu command 14. telnet 172.16.1.114 /vrf Mgmt-intf
menu main_menu text 15. Connect to R15
menu main_menu command 15. telnet 172.16.1.115 /vrf Mgmt-intf
menu main_menu text 16. Connect to R16
menu main_menu command 16. telnet 172.16.1.116 /vrf Mgmt-intf
menu main_menu text 17. Connect to R17
menu main_menu command 17. telnet 172.16.1.117 /vrf Mgmt-intf
menu main_menu text 18. Connect to R18
menu main_menu command 18. telnet 172.16.1.118 /vrf Mgmt-intf
menu main_menu text 19. Connect to R19
menu main_menu command 19. telnet 172.16.1.119 /vrf Mgmt-intf
menu main_menu text 20. Connect to R20
menu main_menu command 20. telnet 172.16.1.120 /vrf Mgmt-intf
menu main_menu text Q. Quit
menu main_menu command Q. Exit
menu main_menu clear-screen
route-map RT_REWRITE permit 10
 match extcommunity 1
 set extcomm-list 1 delete
 set extcommunity rt 100:3 additive
!
route-map RT_REWRITE permit 20
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
privilege exec level 0 telnet
privilege exec level 0 menu
privilege exec level 0 exit
privilege exec level 0 clear line
privilege exec level 0 clear
!
line con 0
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 privilege level 15
 password cisco
 no login
 length 0
 transport input telnet ssh
line vty 5 10
 exec-timeout 720 0
 privilege level 15
 password cisco
 no login
 length 0
 transport input telnet ssh
line vty 11 90
 exec-timeout 720 0
 privilege level 15
 login local
 rotary 1
 transport input all
!
!
!
!
!
event manager applet CLI_AFTER_BOOT
 event none
 action 1.0 cli command "enable"
 action 2.0 cli command "configure terminal"
 action 3.0 cli command "no banner motd"
 action 4.0 cli command "no banner login"
 action 5.0 cli command "no banner incoming"
 action 6.0 cli command "no banner exec"
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.101</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.5" ipv6="2001:db8:a:0:1:1:0:6" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.9" ipv6="2001:db8:a:0:1:1:0:a" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R2" type="SIMPLE" subtype="CSR1000v" location="504,511" ipv4="1.1.1.2" ipv6="2001:cc13::2">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 21:59:23 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform qos marker-statistics
platform console serial
!
hostname R2
!
boot-start-marker
boot-end-marker
!
!
vrf definition A
 rd 1:1
 route-target export 1:1
 route-target import 1:1
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
ip multicast-routing distributed
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
mpls traffic-eng tunnels
mpls ldp discovery targeted-hello accept
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-3777123833
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-3777123833
 revocation-check none
 rsakeypair TP-self-signed-3777123833
!
!
crypto pki certificate chain TP-self-signed-3777123833
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 97UZNIPD3JC
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$KBhb$IreuL5blKw.RIjQZAM5QC0
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.2 255.255.255.255
 ipv6 address 2001:CC13::2/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.102 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R1
 ip address 10.0.0.6 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:7/126
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
!
interface GigabitEthernet3
 description to R3
 ip address 10.0.0.13 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:E/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet4
 description to R4
 ip address 10.0.0.17 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:12/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet5
 description to R5
 ip address 10.0.0.21 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:16/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet6
 description to R6
 vrf forwarding A
 ip address 10.0.0.25 255.255.255.252
 ip ospf 100 area 1
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:1A/126
 ospfv3 100 ipv6 area 0
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet7
 description to R12
 ip address 10.0.0.50 255.255.255.252
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:32/126
 mpls ip
 mpls ldp discovery transport-address interface
 mpls bgp forwarding
 no mop enabled
 no mop sysid
!
router ospfv3 1
 router-id 1.1.1.2
 prefix-suppression
 bfd all-interfaces
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospfv3 100
 !
 address-family ipv6 unicast vrf A
  redistribute bgp 100
 exit-address-family
!
router ospf 100 vrf A
 router-id 2.2.2.2
 area 1 virtual-link 1.1.1.6
 redistribute bgp 100 subnets
!
router ospf 1
 prefix-suppression
 fast-reroute per-prefix enable area 0 prefix-priority high
 passive-interface GigabitEthernet7
 passive-interface Loopback0
 network 1.1.1.2 0.0.0.0 area 0
 network 10.0.0.4 0.0.0.3 area 0
 network 10.0.0.12 0.0.0.3 area 0
 network 10.0.0.16 0.0.0.3 area 0
 network 10.0.0.20 0.0.0.3 area 0
 network 10.0.0.24 0.0.0.3 area 0
 bfd all-interfaces
 mpls traffic-eng router-id Loopback0
 mpls traffic-eng area 0
 mpls ldp autoconfig
!
router bgp 100
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 no bgp default route-target filter
 neighbor 1.1.1.1 remote-as 100
 neighbor 1.1.1.1 update-source Loopback0
 neighbor 10.0.0.49 remote-as 300
 !
 address-family ipv4
  neighbor 1.1.1.1 activate
 exit-address-family
 !
 address-family vpnv4
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 send-community extended
  neighbor 1.1.1.1 next-hop-self
  neighbor 10.0.0.49 activate
  neighbor 10.0.0.49 send-community extended
  neighbor 10.0.0.49 route-map RT_REWRITE in
 exit-address-family
 !
 address-family vpnv6
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 send-community extended
  neighbor 1.1.1.1 next-hop-self
  neighbor 10.0.0.49 activate
  neighbor 10.0.0.49 send-community extended
  neighbor 10.0.0.49 route-map RT_REWRITE in
 exit-address-family
 !
 address-family l2vpn vpls
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 next-hop-self
  neighbor 10.0.0.49 activate
 exit-address-family
 !
 address-family ipv4 vrf A
  redistribute ospf 100
 exit-address-family
 !
 address-family ipv6 vrf A
  redistribute ospf 100
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
ip pim ssm default
!
ip extcommunity-list 1 permit rt 1:1
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
route-map RT_REWRITE permit 10
 match extcommunity 1
 set extcomm-list 1 delete
 set extcommunity rt 100:3 additive
!
route-map RT_REWRITE permit 20
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.102</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.6" ipv6="2001:db8:a:0:1:1:0:7" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.13" ipv6="2001:db8:a:0:1:1:0:e" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet4" ipv4="10.0.0.17" ipv6="2001:db8:a:0:1:1:0:12" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="3" name="GigabitEthernet5" ipv4="10.0.0.21" ipv6="2001:db8:a:0:1:1:0:16" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="4" name="GigabitEthernet6" ipv4="10.0.0.25" ipv6="2001:db8:a:0:1:1:0:1a" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="5" name="GigabitEthernet7" ipv4="10.0.0.50" ipv6="2001:db8:a:0:1:1:0:32" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R3" type="SIMPLE" subtype="CSR1000v" location="505,715" ipv4="1.1.1.3" ipv6="2001:cc13::3">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 21:55:14 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R3
!
boot-start-marker
boot-end-marker
!
!
vrf definition A
 rd 1:1
 route-target export 1:1
 route-target import 1:1
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
vrf definition B
 rd 2:2
 route-target export 100:3
 route-target import 100:3
 !
 address-family ipv4
  mdt default 232.1.2.3
  mdt data 232.4.5.0 0.0.0.255
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip multicast-routing distributed
ip multicast-routing vrf B distributed
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
mpls traffic-eng tunnels
mpls traffic-eng auto-tunnel backup
mpls traffic-eng auto-tunnel primary onehop
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-1980061958
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-1980061958
 revocation-check none
 rsakeypair TP-self-signed-1980061958
!
!
crypto pki certificate chain TP-self-signed-1980061958
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 96ZU2GBKEED
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$v6r.$N8p.T.bTQevbTX6.7khAd0
!
redundancy
!
!
!
!
!
cdp run
!
!
policy-map POLICE_FROM_CE
 class class-default
  police cir 8000 pir 9000 conform-action transmit  exceed-action set-mpls-exp-imposition-transmit 1 violate-action drop 
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.3 255.255.255.255
 ip pim sparse-mode
 ipv6 address 2001:CC13::3/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.103 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R1
 ip address 10.0.0.10 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:B/126
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
!
interface GigabitEthernet3
 description to R2
 ip address 10.0.0.14 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:F/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet4
 description to R5
 ip address 10.0.0.33 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:22/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet5
 description to R4
 ip address 10.0.0.29 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:1E/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet6
 description to R7
 vrf forwarding A
 ip address 10.0.0.37 255.255.255.252
 ip ospf 100 area 1
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:26/126
 ospfv3 100 ipv6 area 0
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet7
 description to R11
 vrf forwarding B
 ip address 10.0.0.54 255.255.255.252
 ip pim sparse-mode
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:36/126
 cdp enable
 no mop enabled
 no mop sysid
 service-policy input POLICE_FROM_CE
!
router ospfv3 1
 router-id 1.1.1.3
 prefix-suppression
 bfd all-interfaces
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospfv3 100
 !
 address-family ipv6 unicast vrf A
  redistribute bgp 100
 exit-address-family
!
router ospf 100 vrf A
 router-id 3.3.3.3
 area 1 virtual-link 1.1.1.7
 redistribute bgp 100 subnets
!
router ospf 1
 prefix-suppression
 fast-reroute per-prefix enable area 0 prefix-priority high
 passive-interface Loopback0
 network 1.1.1.3 0.0.0.0 area 0
 network 10.0.0.8 0.0.0.3 area 0
 network 10.0.0.12 0.0.0.3 area 0
 network 10.0.0.28 0.0.0.3 area 0
 network 10.0.0.32 0.0.0.3 area 0
 network 10.0.0.36 0.0.0.3 area 0
 network 10.0.0.52 0.0.0.3 area 0
 bfd all-interfaces
 mpls traffic-eng router-id Loopback0
 mpls traffic-eng area 0
 mpls traffic-eng multicast-intact
 mpls ldp autoconfig
!
router bgp 100
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 neighbor 1.1.1.1 remote-as 100
 neighbor 1.1.1.1 update-source Loopback0
 !
 address-family ipv4
  neighbor 1.1.1.1 activate
 exit-address-family
 !
 address-family vpnv4
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 send-community extended
 exit-address-family
 !
 address-family ipv4 mdt
  neighbor 1.1.1.1 activate
 exit-address-family
 !
 address-family vpnv6
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 send-community extended
 exit-address-family
 !
 address-family ipv4 vrf A
  redistribute ospf 100
 exit-address-family
 !
 address-family ipv6 vrf A
  redistribute ospf 100
 exit-address-family
 !
 address-family ipv4 vrf B
  neighbor 10.0.0.53 remote-as 65001
  neighbor 10.0.0.53 activate
  neighbor 10.0.0.53 as-override
 exit-address-family
 !
 address-family ipv6 vrf B
  neighbor 2001:DB8:A:0:1:1:0:37 remote-as 65001
  neighbor 2001:DB8:A:0:1:1:0:37 activate
  neighbor 2001:DB8:A:0:1:1:0:37 as-override
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
ip pim ssm default
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.103</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.10" ipv6="2001:db8:a:0:1:1:0:b" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.14" ipv6="2001:db8:a:0:1:1:0:f" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet4" ipv4="10.0.0.33" ipv6="2001:db8:a:0:1:1:0:22" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="3" name="GigabitEthernet5" ipv4="10.0.0.29" ipv6="2001:db8:a:0:1:1:0:1e" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="4" name="GigabitEthernet6" ipv4="10.0.0.37" ipv6="2001:db8:a:0:1:1:0:26" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="5" name="GigabitEthernet7" ipv4="10.0.0.54" ipv6="2001:db8:a:0:1:1:0:36" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R4" type="SIMPLE" subtype="CSR1000v" location="670,505" ipv4="1.1.1.4" ipv6="2001:cc13::4">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 18:26:54 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R4
!
boot-start-marker
boot-end-marker
!
!
vrf definition B
 rd 2:2
 route-target export 100:3
 route-target import 100:3
 !
 address-family ipv4
  mdt default 232.1.2.3
  mdt data 232.4.5.0 0.0.0.255
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
ip multicast-routing distributed
ip multicast-routing vrf B distributed
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
mpls traffic-eng tunnels
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-4207949847
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-4207949847
 revocation-check none
 rsakeypair TP-self-signed-4207949847
!
!
crypto pki certificate chain TP-self-signed-4207949847
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9TDDBT12O3J
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$zP9f$1pQ055lvKD4zjFvcNaXyd0
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.4 255.255.255.255
 ip pim sparse-mode
 ipv6 address 2001:CC13::4/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface Loopback1
 vrf forwarding B
 ip address 10.4.4.4 255.255.255.255
 ip pim sparse-mode
 ip igmp join-group 224.4.4.4
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.104 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R2
 ip address 10.0.0.18 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:13/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet3
 description to R3
 ip address 10.0.0.30 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:1F/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet4
 description to R19
 ip address 10.0.0.58 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:3A/126
 mpls bgp forwarding
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
router ospfv3 1
 router-id 1.1.1.4
 prefix-suppression
 bfd all-interfaces
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospf 1
 prefix-suppression
 fast-reroute per-prefix enable area 0 prefix-priority high
 redistribute bgp 100 subnets route-map BGP_TO_OSPF
 passive-interface GigabitEthernet4
 passive-interface Loopback0
 network 1.1.1.4 0.0.0.0 area 0
 network 10.0.0.16 0.0.0.3 area 0
 network 10.0.0.28 0.0.0.3 area 0
 network 10.0.0.56 0.0.0.3 area 0
 bfd all-interfaces
 mpls traffic-eng router-id Loopback0
 mpls traffic-eng area 0
 mpls ldp autoconfig
!
router bgp 100
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 neighbor 1.1.1.1 remote-as 100
 neighbor 1.1.1.1 update-source Loopback0
 neighbor 10.0.0.57 remote-as 200
 !
 address-family ipv4
  network 1.1.1.1 mask 255.255.255.255
  network 1.1.1.2 mask 255.255.255.255
  network 1.1.1.3 mask 255.255.255.255
  network 1.1.1.5 mask 255.255.255.255
  network 10.4.4.4 mask 255.255.255.255
  neighbor 1.1.1.1 activate
  neighbor 10.0.0.57 activate
  neighbor 10.0.0.57 send-label
 exit-address-family
 !
 address-family vpnv4
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 send-community extended
 exit-address-family
 !
 address-family ipv4 mdt
  neighbor 1.1.1.1 activate
 exit-address-family
 !
 address-family vpnv6
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 send-community extended
 exit-address-family
 !
 address-family ipv4 vrf B
  network 10.4.4.4 mask 255.255.255.255
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
ip pim ssm default
ip pim vrf B bsr-candidate Loopback1 0
ip pim vrf B rp-candidate Loopback1
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
ip prefix-list LOOPBACKS seq 5 permit 0.0.0.0/0 ge 32
!
ip prefix-list R17 seq 5 permit 1.1.1.17/32
!
ip prefix-list R18 seq 5 permit 1.1.1.18/32
!
!
route-map BGP_TO_OSPF permit 1
 match ip address prefix-list R17
 set metric 100
!
route-map BGP_TO_OSPF permit 2
 match ip address prefix-list R18
 set metric 50
!
route-map BGP_TO_OSPF permit 10
 match ip address prefix-list LOOPBACKS
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.104</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.18" ipv6="2001:db8:a:0:1:1:0:13" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.30" ipv6="2001:db8:a:0:1:1:0:1f" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet4" ipv4="10.0.0.58" ipv6="2001:db8:a:0:1:1:0:3a" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R5" type="SIMPLE" subtype="CSR1000v" location="665,714" ipv4="1.1.1.5" ipv6="2001:cc13::5">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 18:26:54 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R5
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
ip multicast-routing distributed
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
mpls traffic-eng tunnels
mpls ldp discovery targeted-hello accept
!
!
multilink bundle-name authenticated
l2vpn vfi context VPLS_BGP_AD 
 vpn id 1
 autodiscovery bgp signaling ldp 
  vpls-id 100:200
  route-target export 100:200
  route-target import 100:200
!
!
!
!
!
!
crypto pki trustpoint TP-self-signed-2962200799
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-2962200799
 revocation-check none
 rsakeypair TP-self-signed-2962200799
!
!
crypto pki certificate chain TP-self-signed-2962200799
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9BEHXYV2YHS
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$0UrG$79IpdQors.f2a6m0sJ/Fo.
!
redundancy
bridge-domain 1 
 member GigabitEthernet5 service-instance 1
 member vfi VPLS_BGP_AD
!
!
!
!
!
!
cdp run
!
l2 pseudowire routing
 terminating-pe tie-breaker
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.5 255.255.255.255
 ipv6 address 2001:CC13::5/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.105 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R3
 ip address 10.0.0.34 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:23/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet3
 description to R2
 ip address 10.0.0.22 255.255.255.252
 ip pim sparse-mode
 ip ospf network point-to-point
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:17/126
 mpls traffic-eng tunnels
 ipv6 ospf 1 area 0
 ipv6 ospf network point-to-point
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 bfd interval 333 min_rx 333 multiplier 3
 ip rsvp bandwidth
!
interface GigabitEthernet4
 description to R20
 ip address 10.0.0.62 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:3E/126
 mpls bgp forwarding
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet5
 no ip address
 negotiation auto
 no mop enabled
 no mop sysid
 service instance 1 ethernet
  encapsulation default
  snmp ifindex persist
 !
!
router ospfv3 1
 router-id 1.1.1.5
 prefix-suppression
 bfd all-interfaces
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospf 1
 prefix-suppression
 fast-reroute per-prefix enable area 0 prefix-priority high
 redistribute bgp 100 subnets route-map BGP_TO_OSPF
 passive-interface GigabitEthernet4
 passive-interface Loopback0
 network 1.1.1.5 0.0.0.0 area 0
 network 10.0.0.20 0.0.0.3 area 0
 network 10.0.0.32 0.0.0.3 area 0
 network 10.0.0.60 0.0.0.3 area 0
 bfd all-interfaces
 mpls traffic-eng router-id Loopback0
 mpls traffic-eng area 0
 mpls ldp autoconfig
!
router bgp 100
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 neighbor 1.1.1.1 remote-as 100
 neighbor 1.1.1.1 update-source Loopback0
 neighbor 10.0.0.61 remote-as 200
 !
 address-family ipv4
  network 1.1.1.1 mask 255.255.255.255
  network 2.2.2.2 mask 255.255.255.255
  network 3.3.3.3 mask 255.255.255.255
  network 5.5.5.5 mask 255.255.255.255
  neighbor 1.1.1.1 activate
  neighbor 10.0.0.61 activate
  neighbor 10.0.0.61 send-label
 exit-address-family
 !
 address-family vpnv4
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 send-community extended
 exit-address-family
 !
 address-family vpnv6
  neighbor 1.1.1.1 activate
  neighbor 1.1.1.1 send-community extended
 exit-address-family
 !
 address-family l2vpn vpls
  neighbor 1.1.1.1 activate
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
ip pim ssm default
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
ip prefix-list LOOPBACKS seq 5 permit 0.0.0.0/0 ge 32
!
ip prefix-list R17 seq 5 permit 1.1.1.17/32
!
ip prefix-list R18 seq 5 permit 1.1.1.18/32
!
!
route-map BGP_TO_OSPF permit 1
 match ip address prefix-list R17
 set metric 50
!
route-map BGP_TO_OSPF permit 2
 match ip address prefix-list R18
 set metric 100
!
route-map BGP_TO_OSPF permit 10
 match ip address prefix-list LOOPBACKS
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.105</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.34" ipv6="2001:db8:a:0:1:1:0:23" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.22" ipv6="2001:db8:a:0:1:1:0:17" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet4" ipv4="10.0.0.62" ipv6="2001:db8:a:0:1:1:0:3e" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="3" name="GigabitEthernet5"/>
    </node>
    <node name="R6" type="SIMPLE" subtype="CSR1000v" location="286,508" ipv4="1.1.1.6" ipv6="2001:cc13::6">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 18:26:54 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R6
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-3494552362
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-3494552362
 revocation-check none
 rsakeypair TP-self-signed-3494552362
!
!
crypto pki certificate chain TP-self-signed-3494552362
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9OWMBTWFFI1
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$.lkw$HxBdMW41Mqg/66l449uT/.
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.6 255.255.255.255
 ipv6 address 2001:CC13::6/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.106 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R2
 ip address 10.0.0.26 255.255.255.252
 ip ospf 1 area 1
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:1B/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 description to R8
 ip address 10.0.0.41 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:2A/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
router ospfv3 1
 router-id 1.1.1.6
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospf 1
 router-id 1.1.1.6
 area 1 virtual-link 2.2.2.2
 passive-interface Loopback0
 network 1.1.1.6 0.0.0.0 area 0
 network 10.0.0.24 0.0.0.3 area 0
 network 10.0.0.40 0.0.0.3 area 0
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.106</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.26" ipv6="2001:db8:a:0:1:1:0:1b" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.41" ipv6="2001:db8:a:0:1:1:0:2a" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R7" type="SIMPLE" subtype="CSR1000v" location="280,708" ipv4="1.1.1.7" ipv6="2001:cc13::7">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 18:26:54 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R7
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-1656830116
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-1656830116
 revocation-check none
 rsakeypair TP-self-signed-1656830116
!
!
crypto pki certificate chain TP-self-signed-1656830116
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9P93TUQAN3E
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$kcEw$b1WA/9gT2bqD0hzS0pR/k/
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.7 255.255.255.255
 ipv6 address 2001:CC13::7/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.107 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R3
 ip address 10.0.0.38 255.255.255.252
 ip ospf 1 area 1
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:27/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 description to R8
 ip address 10.0.0.45 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:2E/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
router ospfv3 1
 router-id 1.1.1.7
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospf 1
 router-id 1.1.1.7
 area 1 virtual-link 3.3.3.3
 passive-interface Loopback0
 network 1.1.1.7 0.0.0.0 area 0
 network 10.0.0.36 0.0.0.3 area 0
 network 10.0.0.44 0.0.0.3 area 0
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.107</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.38" ipv6="2001:db8:a:0:1:1:0:27" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.45" ipv6="2001:db8:a:0:1:1:0:2e" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R8" type="SIMPLE" subtype="CSR1000v" location="169,603" ipv4="1.1.1.8" ipv6="2001:cc13::8">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 18:26:54 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R8
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-2756627388
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-2756627388
 revocation-check none
 rsakeypair TP-self-signed-2756627388
!
!
crypto pki certificate chain TP-self-signed-2756627388
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9KIJZUR6R9F
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$Eu6.$HSzh3yXHBdJGI/9pNBGQ21
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.8 255.255.255.255
 ipv6 address 2001:CC13::8/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.108 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R6
 ip address 10.0.0.42 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:2B/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 description to R7
 ip address 10.0.0.46 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:2F/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
router ospfv3 1
 router-id 1.1.1.8
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospf 1
 passive-interface Loopback0
 network 1.1.1.8 0.0.0.0 area 0
 network 10.0.0.40 0.0.0.3 area 0
 network 10.0.0.44 0.0.0.3 area 0
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.108</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.42" ipv6="2001:db8:a:0:1:1:0:2b" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.46" ipv6="2001:db8:a:0:1:1:0:2f" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R9" type="SIMPLE" subtype="CSR1000v" location="1294,586" ipv4="1.1.1.9" ipv6="2001:cc13::9">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 18:26:53 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R9
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-3237393029
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-3237393029
 revocation-check none
 rsakeypair TP-self-signed-3237393029
!
!
crypto pki certificate chain TP-self-signed-3237393029
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9QLQWVEYN5S
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$3.NY$clKVR4vIlfcdywoDmE9go1
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.9 255.255.255.255
 ipv6 address 2001:CC13::9/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.109 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R17
 ip address 10.0.0.66 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:42/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 description to R18
 ip address 10.0.0.70 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:46/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
router ospfv3 1
 router-id 1.1.1.9
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospf 1
 network 0.0.0.0 255.255.255.255 area 1
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.109</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.66" ipv6="2001:db8:a:0:1:1:0:42" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.70" ipv6="2001:db8:a:0:1:1:0:46" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R10" type="SIMPLE" subtype="CSR1000v" location="1006,841" ipv4="1.1.1.10" ipv6="2001:cc13::10">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 20:58:13 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R10
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
ip multicast-routing distributed
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-837569203
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-837569203
 revocation-check none
 rsakeypair TP-self-signed-837569203
!
!
crypto pki certificate chain TP-self-signed-837569203
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 990ZXZ8HKVM
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$ijRa$5/OxDOaeGEXeF7WrLemcV0
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.10 255.255.255.255
 ip pim sparse-mode
 ip igmp join-group 224.17.17.17
 ipv6 address 2001:CC13::10/128
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.110 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R18
 ip address 10.0.0.73 255.255.255.252
 ip pim sparse-mode
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:4A/126
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
router ospf 1
!
router bgp 65001
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 neighbor 10.0.0.74 remote-as 200
 neighbor 2001:DB8:A:0:1:1:0:4B remote-as 200
 !
 address-family ipv4
  redistribute connected
  neighbor 10.0.0.74 activate
 exit-address-family
 !
 address-family ipv6
  redistribute connected
  neighbor 2001:DB8:A:0:1:1:0:4B activate
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.110</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.73" ipv6="2001:db8:a:0:1:1:0:4a" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R11" type="SIMPLE" subtype="CSR1000v" location="508,845" ipv4="1.1.1.11" ipv6="2001:cc13::11">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 18:26:53 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R11
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!
ip name-server 10.0.0.54
ip name-server vrf Mgmt-intf 172.16.1.101

no ip domain lookup
ip domain name virl.info
ip multicast-routing distributed
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-1949777472
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-1949777472
 revocation-check none
 rsakeypair TP-self-signed-1949777472
!
!
crypto pki certificate chain TP-self-signed-1949777472
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9DEH9YB6IJ0
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$IBc4$YH5akY0LAT7fP4TGAOWAp0
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.11 255.255.255.255
 ipv6 address 2001:CC13::11/128
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.111 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R3
 ip address 10.0.0.53 255.255.255.252
 ip pim sparse-mode
 ip igmp join-group 224.12.12.12
 ip igmp join-group 224.11.11.11
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:37/126
 ipv6 ospf 1 area 0
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 ip address 192.168.0.11 255.255.255.0
 negotiation auto
 no mop enabled
 no mop sysid
!
router ospfv3 1
 router-id 1.1.1.11
 !
 address-family ipv6 unicast
 exit-address-family
!
router ospf 1
 passive-interface Loopback0
 network 1.1.1.11 0.0.0.0 area 0
 network 10.0.0.52 0.0.0.3 area 0
!
router bgp 65001
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 neighbor 10.0.0.54 remote-as 100
 neighbor 2001:DB8:A:0:1:1:0:36 remote-as 100
 !
 address-family ipv4
  redistribute connected
  neighbor 10.0.0.54 activate
 exit-address-family
 !
 address-family ipv6
  redistribute connected
  neighbor 2001:DB8:A:0:1:1:0:36 activate
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.111</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.53" ipv6="2001:db8:a:0:1:1:0:37" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3"/>
    </node>
    <node name="R12" type="SIMPLE" subtype="CSR1000v" location="509,379" ipv4="1.1.1.12" ipv6="2001:cc13::12">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 17:46:03 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R12
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
mpls ldp discovery targeted-hello accept
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-275811550
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-275811550
 revocation-check none
 rsakeypair TP-self-signed-275811550
!
!
crypto pki certificate chain TP-self-signed-275811550
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9W00S2HWNLL
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$k1Jf$w3TETS5FvAL/5RTNneLTi.
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.12 255.255.255.255
 ip ospf 1 area 0
 ipv6 address 2001:CC13::12/128
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.112 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R2
 ip address 10.0.0.49 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:33/126
 mpls ip
 mpls ldp discovery transport-address interface
 mpls bgp forwarding
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 description to R13
 ip address 10.0.0.77 255.255.255.252
 ip ospf 1 area 0
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:4E/126
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
router ospf 1
 mpls ldp autoconfig
!
router bgp 300
 bgp log-neighbor-changes
 no bgp default route-target filter
 neighbor 1.1.1.14 remote-as 300
 neighbor 1.1.1.14 update-source Loopback0
 neighbor 10.0.0.50 remote-as 100
 !
 address-family vpnv4
  neighbor 1.1.1.14 activate
  neighbor 1.1.1.14 send-community extended
  neighbor 1.1.1.14 next-hop-self
  neighbor 10.0.0.50 activate
  neighbor 10.0.0.50 send-community extended
  neighbor 10.0.0.50 route-map RT_REWRITE in
 exit-address-family
 !
 address-family vpnv6
  neighbor 1.1.1.14 activate
  neighbor 1.1.1.14 send-community extended
  neighbor 1.1.1.14 next-hop-self
  neighbor 10.0.0.50 activate
  neighbor 10.0.0.50 send-community extended
  neighbor 10.0.0.50 route-map RT_REWRITE in
 exit-address-family
 !
 address-family l2vpn vpls
  neighbor 1.1.1.14 activate
  neighbor 1.1.1.14 next-hop-self
  neighbor 10.0.0.50 activate
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip extcommunity-list 1 permit rt 100:3
ip extcommunity-list 2 permit rt 1:1
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
route-map RT_REWRITE permit 10
 match extcommunity 1
 set extcomm-list 1 delete
 set extcommunity rt 1:1 additive
!
route-map RT_REWRITE permit 20
 match extcommunity 2
 set extcomm-list 2 delete
 set extcommunity rt 12345:1 additive
!
route-map RT_REWRITE permit 30
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.112</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.49" ipv6="2001:db8:a:0:1:1:0:33" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.77" ipv6="2001:db8:a:0:1:1:0:4e" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R13" type="SIMPLE" subtype="CSR1000v" location="673,369" ipv4="1.1.1.13" ipv6="2001:cc13::13">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 17:46:09 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R13
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-2928848184
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-2928848184
 revocation-check none
 rsakeypair TP-self-signed-2928848184
!
!
crypto pki certificate chain TP-self-signed-2928848184
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9XV06F988N2
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$oVN6$JaCpK3TwlSw7tgojNuw980
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.13 255.255.255.255
 ip ospf 1 area 0
 ipv6 address 2001:CC13::13/128
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.113 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R12
 ip address 10.0.0.78 255.255.255.252
 ip ospf 1 area 0
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:4F/126
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 description to R14
 ip address 10.0.0.81 255.255.255.252
 ip ospf 1 area 0
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:52/126
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
router ospf 1
 mpls ldp autoconfig
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.113</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.78" ipv6="2001:db8:a:0:1:1:0:4f" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.81" ipv6="2001:db8:a:0:1:1:0:52" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R14" type="SIMPLE" subtype="CSR1000v" location="812,360" ipv4="1.1.1.14" ipv6="2001:cc13::14">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 21:56:36 UTC Tue Feb 6 2018
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform qos marker-statistics
platform console serial
!
hostname R14
!
boot-start-marker
boot-end-marker
!
!
vrf definition B
 rd 2:2
 route-target export 1:1
 route-target import 1:1
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
mpls ldp discovery targeted-hello accept
!
!
multilink bundle-name authenticated
l2vpn vfi context VPLS_BGP_AD 
 vpn id 1
 autodiscovery bgp signaling ldp 
  vpls-id 100:200
  route-target export 100:200
  route-target import 100:200
!
!
!
!
!
!
crypto pki trustpoint TP-self-signed-2747758358
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-2747758358
 revocation-check none
 rsakeypair TP-self-signed-2747758358
!
!
crypto pki certificate chain TP-self-signed-2747758358
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 999YDR8VNWB
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$Exsy$Bn5EAcqCQHVuUUUV9vJAW0
!
redundancy
bridge-domain 1 
 member GigabitEthernet4 service-instance 1
 member vfi VPLS_BGP_AD
!
!
!
!
!
!
cdp run
!
!
class-map match-all QOS_GROUP_1
 match qos-group 1
class-map match-all MPLS_EXP_1
 match mpls experimental topmost 1 
!
policy-map CLASSIFY_FROM_P
 class MPLS_EXP_1
  set qos-group 1
policy-map REMARK_EGRESS_TRAFFIC
 class QOS_GROUP_1
  set dscp cs1
!
l2 pseudowire routing
 terminating-pe tie-breaker
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.14 255.255.255.255
 ip ospf 1 area 0
 ipv6 address 2001:CC13::14/128
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.114 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R13
 ip address 10.0.0.82 255.255.255.252
 ip ospf 1 area 0
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:53/126
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
 service-policy input CLASSIFY_FROM_P
!
interface GigabitEthernet3
 description to R15
 vrf forwarding B
 ip address 10.0.0.85 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:56/126
 cdp enable
 no mop enabled
 no mop sysid
 service-policy output REMARK_EGRESS_TRAFFIC
!
interface GigabitEthernet4
 no ip address
 negotiation auto
 no mop enabled
 no mop sysid
 service instance 1 ethernet
  encapsulation default
 !
!
router ospf 1
 mpls ldp autoconfig
!
router bgp 300
 bgp log-neighbor-changes
 neighbor 1.1.1.12 remote-as 300
 neighbor 1.1.1.12 update-source Loopback0
 !
 address-family vpnv4
  neighbor 1.1.1.12 activate
  neighbor 1.1.1.12 send-community extended
 exit-address-family
 !
 address-family vpnv6
  neighbor 1.1.1.12 activate
  neighbor 1.1.1.12 send-community extended
 exit-address-family
 !
 address-family l2vpn vpls
  neighbor 1.1.1.12 activate
 exit-address-family
 !
 address-family ipv4 vrf B
  neighbor 10.0.0.86 remote-as 65001
  neighbor 10.0.0.86 activate
  neighbor 10.0.0.86 as-override
 exit-address-family
 !
 address-family ipv6 vrf B
  neighbor 2001:DB8:A:0:1:1:0:57 remote-as 65001
  neighbor 2001:DB8:A:0:1:1:0:57 activate
  neighbor 2001:DB8:A:0:1:1:0:57 as-override
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.114</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.82" ipv6="2001:db8:a:0:1:1:0:53" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3" ipv4="10.0.0.85" ipv6="2001:db8:a:0:1:1:0:56" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet4"/>
    </node>
    <node name="R15" type="SIMPLE" subtype="CSR1000v" location="998,360" ipv4="1.1.1.15" ipv6="2001:cc13::15">
        <extensions>
            <entry key="config" type="string">!
! Last configuration change at 20:48:35 UTC Tue Feb 6 2018 by cisco
!
version 16.5
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
platform console serial
!
hostname R15
!
boot-start-marker
boot-end-marker
!
!
vrf definition Mgmt-intf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
enable password cisco
!
no aaa new-model
!
!
!
!
!
!
!
!
!

no ip domain lookup
ip domain name virl.info
!
!
!
ipv6 unicast-routing
!
!
!
!
!
!
!
subscriber templating
! 
! 
! 
! 
!
!
!
multilink bundle-name authenticated
!
!
!
!
!
crypto pki trustpoint TP-self-signed-2503470677
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-2503470677
 revocation-check none
 rsakeypair TP-self-signed-2503470677
!
!
crypto pki certificate chain TP-self-signed-2503470677
 certificate self-signed 01 nvram:IOS-Self-Sig#1.cer
!
!
!
!
!
!
!
!
license udi pid CSR1000V sn 9CR7WOVWRXP
license accept end user agreement
license boot level ax
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username cisco privilege 15 secret 5 $1$Nu.m$/APVk6sXl1oEdnU02jFf4/
!
redundancy
!
!
!
!
!
cdp run
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
! 
! 
!
!
interface Loopback0
 description Loopback
 ip address 1.1.1.15 255.255.255.255
 ipv6 address 2001:CC13::15/128
 ipv6 ospf cost 1
!
interface GigabitEthernet1
 description OOB Management
 vrf forwarding Mgmt-intf
 ip address 172.16.1.115 255.255.255.0
 negotiation auto
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 description to R14
 ip address 10.0.0.86 255.255.255.252
 ip ospf cost 1
 negotiation auto
 ipv6 address 2001:DB8:A:0:1:1:0:57/126
 ipv6 ospf cost 1
 cdp enable
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 ip address 192.168.0.15 255.255.255.0
 negotiation auto
 no mop enabled
 no mop sysid
!
router bgp 65001
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 neighbor 10.0.0.85 remote-as 300
 neighbor 2001:DB8:A:0:1:1:0:56 remote-as 300
 !
 address-family ipv4
  redistribute connected
  neighbor 10.0.0.85 activate
 exit-address-family
 !
 address-family ipv6
  redistribute connected
  neighbor 2001:DB8:A:0:1:1:0:56 activate
 exit-address-family
!

threat-visibility
!
virtual-service csr_mgmt
!
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip http path bootflash:
ip route vrf Mgmt-intf 0.0.0.0 0.0.0.0 172.16.1.254
!
ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
ip ssh server algorithm authentication password
ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
!
!
!
!
!
control-plane
!
 !
 !
 !
 !
!
!
!
!
!
line con 0
 password cisco
 stopbits 1
line vty 0 4
 exec-timeout 720 0
 password cisco
 login local
 transport input telnet ssh
!
!
!
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.115</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.86" ipv6="2001:db8:a:0:1:1:0:57" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet3"/>
    </node>
    <node name="R16" type="SIMPLE" subtype="IOS XRv" location="1136,594" ipv4="1.1.1.16" ipv6="2001:cc13::16">
        <extensions>
            <entry key="config" type="string">!! IOS XR Configuration 6.1.3
!! Last configuration change at Tue Feb  6 21:49:00 2018 by cisco
!
!  IOS-XR Config generated on 2018-01-27 04:28
! by autonetkit_0.23.5
hostname R16
logging console debugging
logging monitor debugging
service timestamps log datetime msec
service timestamps debug datetime msec
telnet vrf default ipv4 server max-servers 10
telnet vrf Mgmt-intf ipv4 server max-servers 10
domain name virl.info
domain lookup disable
cdp
vrf Mgmt-intf
 address-family ipv4 unicast
 !
 address-family ipv6 unicast
 !
!
line template vty
 timestamp
 exec-timeout 720 0
!
line console
 exec-timeout 0 0
!
line default
 exec-timeout 720 0
!
vty-pool default 0 50
control-plane
 management-plane
  inband
   interface all
    allow all
   !
  !
 !
!
interface Loopback0
 description Loopback
 ipv4 address 1.1.1.16 255.255.255.255
 ipv6 address 2001:cc13::16/128
!
interface MgmtEth0/0/CPU0/0
 description OOB Management
 cdp
 ! Configured on launch
 vrf Mgmt-intf
 ipv4 address 172.16.1.116 255.255.255.0
!
interface GigabitEthernet0/0/0/0
 description to R17
 cdp
 ipv4 address 10.0.0.89 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:5a/126
!
interface GigabitEthernet0/0/0/1
 description to R18
 cdp
 ipv4 address 10.0.0.93 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:5e/126
!
route-policy PASS
  pass
end-policy
!
route-policy bgp_in
  pass
end-policy
!
route-policy bgp_out
  pass
end-policy
!
route-policy RT_REWRITE
  if extcommunity rt matches-any (100:3) then
    set extcommunity rt (200:18) additive
    pass
  else
    pass
  endif
end-policy
!
router isis 1
 is-type level-2-only
 net 49.0001.0000.0000.0016.00
 address-family ipv4 unicast
  distance 109
  mpls ldp auto-config
 !
 address-family ipv6 unicast
  metric-style wide
  distance 109
 !
 interface Loopback0
  passive
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/0
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/1
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
!
router ospf 1
 log adjacency changes
 segment-routing mpls
 segment-routing forwarding mpls
 distance 108
 area 0
  interface Loopback0
   passive enable
   prefix-sid absolute 16016
  !
  interface GigabitEthernet0/0/0/0
   cost 1
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
 !
!
router ospfv3 1
 router-id 1.1.1.16
 area 0
  interface Loopback0
   passive
  !
  interface GigabitEthernet0/0/0/0
   cost 1
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
 !
 address-family ipv6 unicast
!
router bgp 200
 address-family ipv4 unicast
 !
 address-family vpnv4 unicast
 !
 address-family vpnv6 unicast
 !
 address-family l2vpn vpls-vpws
 !
 address-family ipv4 mvpn
 !
 af-group IPV4-MVPN-RR-CLIENT-POLICY address-family ipv4 mvpn
  route-reflector-client
 !
 af-group L2VPN-VPLS-RR-CLIENT-POLICY address-family l2vpn vpls-vpws
  route-reflector-client
 !
 af-group IPV4-UNICAST-RR-CLIENT-POLICY address-family ipv4 unicast
  route-reflector-client
 !
 af-group VPNV4-UNICAST-RR-CLIENT-POLICY address-family vpnv4 unicast
  route-reflector-client
 !
 af-group VPNV6-UNICAST-RR-CLIENT-POLICY address-family vpnv6 unicast
  route-reflector-client
 !
 session-group IBGP-SESSIONS
  remote-as 200
  update-source Loopback0
 !
 neighbor 1.1.1.1
  remote-as 100
  ebgp-multihop 255
  update-source Loopback0
  address-family vpnv4 unicast
   route-policy RT_REWRITE in
   route-policy PASS out
   next-hop-unchanged
  !
  address-family vpnv6 unicast
   route-policy RT_REWRITE in
   route-policy PASS out
   next-hop-unchanged
  !
  address-family l2vpn vpls-vpws
   route-policy PASS in
   route-policy PASS out
   next-hop-unchanged
  !
 !
 neighbor 1.1.1.17
  use session-group IBGP-SESSIONS
  address-family ipv4 unicast
   use af-group IPV4-UNICAST-RR-CLIENT-POLICY
  !
  address-family vpnv4 unicast
   use af-group VPNV4-UNICAST-RR-CLIENT-POLICY
  !
  address-family vpnv6 unicast
   use af-group VPNV6-UNICAST-RR-CLIENT-POLICY
  !
  address-family l2vpn vpls-vpws
   use af-group L2VPN-VPLS-RR-CLIENT-POLICY
  !
  address-family ipv4 mvpn
   use af-group IPV4-MVPN-RR-CLIENT-POLICY
  !
 !
 neighbor 1.1.1.18
  use session-group IBGP-SESSIONS
  address-family ipv4 unicast
   use af-group IPV4-UNICAST-RR-CLIENT-POLICY
  !
  address-family vpnv4 unicast
   use af-group VPNV4-UNICAST-RR-CLIENT-POLICY
  !
  address-family vpnv6 unicast
   use af-group VPNV6-UNICAST-RR-CLIENT-POLICY
  !
  address-family ipv4 mvpn
   use af-group IPV4-MVPN-RR-CLIENT-POLICY
  !
 !
 neighbor 1.1.1.19
  use session-group IBGP-SESSIONS
  address-family ipv4 unicast
   use af-group IPV4-UNICAST-RR-CLIENT-POLICY
  !
  address-family vpnv4 unicast
   use af-group VPNV4-UNICAST-RR-CLIENT-POLICY
  !
  address-family vpnv6 unicast
   use af-group VPNV6-UNICAST-RR-CLIENT-POLICY
  !
 !
 neighbor 1.1.1.20
  use session-group IBGP-SESSIONS
  address-family ipv4 unicast
   use af-group IPV4-UNICAST-RR-CLIENT-POLICY
  !
  address-family vpnv4 unicast
   use af-group VPNV4-UNICAST-RR-CLIENT-POLICY
  !
  address-family vpnv6 unicast
   use af-group VPNV6-UNICAST-RR-CLIENT-POLICY
  !
 !
!
segment-routing
!
ssh server v2
ssh server vrf Mgmt-intf
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.116</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0/0/0" ipv4="10.0.0.89" ipv6="2001:db8:a:0:1:1:0:5a" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet0/0/0/1" ipv4="10.0.0.93" ipv6="2001:db8:a:0:1:1:0:5e" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R17" type="SIMPLE" subtype="IOS XRv" location="1005,489" ipv4="1.1.1.17" ipv6="2001:cc13::17">
        <extensions>
            <entry key="config" type="string">!! IOS XR Configuration 6.1.3
!! Last configuration change at Tue Feb  6 20:59:35 2018 by cisco
!
!  IOS-XR Config generated on 2018-01-27 04:28
! by autonetkit_0.23.5
hostname R17
logging console debugging
logging monitor debugging
service timestamps log datetime msec
service timestamps debug datetime msec
telnet vrf default ipv4 server max-servers 10
telnet vrf Mgmt-intf ipv4 server max-servers 10
domain name virl.info
domain lookup disable
cdp
vrf A
 address-family ipv4 unicast
  import route-target
   1:1
  !
  export route-target
   1:1
  !
 !
 address-family ipv6 unicast
  import route-target
   1:1
  !
  export route-target
   1:1
  !
 !
!
vrf B
 address-family ipv4 unicast
  import route-target
   200:18
  !
  export route-target
   200:18
  !
 !
!
vrf Mgmt-intf
 address-family ipv4 unicast
 !
 address-family ipv6 unicast
 !
!
line template vty
 timestamp
 exec-timeout 720 0
!
line console
 exec-timeout 0 0
!
line default
 exec-timeout 720 0
!
vty-pool default 0 50
control-plane
 management-plane
  inband
   interface all
    allow all
   !
  !
 !
!
interface Loopback0
 description Loopback
 ipv4 address 1.1.1.17 255.255.255.255
 ipv6 address 2001:cc13::17/128
!
interface Loopback1
 vrf B
 ipv4 address 10.17.17.17 255.255.255.255
!
interface MgmtEth0/0/CPU0/0
 description OOB Management
 cdp
 ! Configured on launch
 vrf Mgmt-intf
 ipv4 address 172.16.1.117 255.255.255.0
!
interface GigabitEthernet0/0/0/0
 description to R19
 cdp
 ipv4 address 10.0.0.101 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:66/126
!
interface GigabitEthernet0/0/0/1
 description to R20
 cdp
 ipv4 address 10.0.0.105 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:6a/126
!
interface GigabitEthernet0/0/0/2
 description to R16
 cdp
 ipv4 address 10.0.0.90 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:5b/126
!
interface GigabitEthernet0/0/0/3
 description to R18
 cdp
 ipv4 address 10.0.0.97 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:62/126
!
interface GigabitEthernet0/0/0/4
 description to R9
 cdp
 vrf A
 ipv4 address 10.0.0.65 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:43/126
!
interface GigabitEthernet0/0/0/5
 l2transport
 !
!
route-policy bgp_in
  pass
end-policy
!
route-policy bgp_out
  pass
end-policy
!
route-policy rpf-for-B
  set core-tree mldp-default
end-policy
!
router isis 1
 is-type level-2-only
 net 49.0001.0000.0000.0017.00
 address-family ipv4 unicast
  distance 109
  mpls ldp auto-config
 !
 address-family ipv6 unicast
  metric-style wide
  distance 109
 !
 interface Loopback0
  passive
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/0
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/1
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/2
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/3
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
!
router ospf 1
 log adjacency changes
 segment-routing mpls
 segment-routing forwarding mpls
 distance 108
 area 0
  interface Loopback0
   passive enable
   prefix-sid absolute 16017
  !
  interface GigabitEthernet0/0/0/0
   cost 1
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
  interface GigabitEthernet0/0/0/2
   cost 1
  !
  interface GigabitEthernet0/0/0/3
   cost 1
  !
 !
!
router ospf 100
 vrf A
  redistribute bgp 200
  area 1
   interface GigabitEthernet0/0/0/4
   !
  !
 !
!
router ospfv3 1
 router-id 1.1.1.17
 area 0
  interface Loopback0
   passive
  !
  interface GigabitEthernet0/0/0/0
   cost 1
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
  interface GigabitEthernet0/0/0/2
   cost 1
  !
  interface GigabitEthernet0/0/0/3
   cost 1
  !
 !
 address-family ipv6 unicast
!
router ospfv3 100
 vrf A
  redistribute bgp 200
  area 0
   interface GigabitEthernet0/0/0/4
   !
  !
 !
!
router bgp 200
 address-family ipv4 unicast
 !
 address-family vpnv4 unicast
 !
 address-family vpnv6 unicast
 !
 address-family l2vpn vpls-vpws
 !
 address-family ipv4 mvpn
 !
 neighbor 1.1.1.16
  remote-as 200
  update-source Loopback0
  address-family ipv4 unicast
  !
  address-family vpnv4 unicast
  !
  address-family vpnv6 unicast
  !
  address-family l2vpn vpls-vpws
  !
  address-family ipv4 mvpn
  !
 !
 vrf A
  rd 1:1
  address-family ipv4 unicast
   redistribute ospf 100
  !
  address-family ipv6 unicast
   redistribute ospfv3 100
  !
 !
 vrf B
  rd 2:2
  address-family ipv4 unicast
   network 10.17.17.17/32
  !
  address-family ipv4 mvpn
  !
 !
!
l2vpn
 bridge group 1
  bridge-domain 1
   interface GigabitEthernet0/0/0/5
   !
   vfi VPLS_BGP_AD
    vpn-id 1
    autodiscovery bgp
     rd auto
     route-target 100:200
     signaling-protocol ldp
      vpls-id 100:200
     !
    !
   !
  !
 !
!
multicast-routing
 address-family ipv4
  interface Loopback0
   enable
  !
 !
 vrf B
  address-family ipv4
   mdt source Loopback0
   rate-per-route
   interface all enable
   accounting per-prefix
   bgp auto-discovery mldp
   !
   mdt default mldp p2mp
   mdt data 100
  !
 !
!
router pim
 address-family ipv4
  interface Loopback1
  !
 !
 vrf B
  address-family ipv4
   rpf topology route-policy rpf-for-B
   mdt c-multicast-routing bgp
   !
   bsr candidate-bsr 10.17.17.17 hash-mask-len 30 priority 1
   bsr candidate-rp 10.17.17.17 priority 192 interval 60
  !
 !
!
ssh server v2
ssh server vrf Mgmt-intf
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.117</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0/0/0" ipv4="10.0.0.101" ipv6="2001:db8:a:0:1:1:0:66" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet0/0/0/1" ipv4="10.0.0.105" ipv6="2001:db8:a:0:1:1:0:6a" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet0/0/0/2" ipv4="10.0.0.90" ipv6="2001:db8:a:0:1:1:0:5b" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="3" name="GigabitEthernet0/0/0/3" ipv4="10.0.0.97" ipv6="2001:db8:a:0:1:1:0:62" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="4" name="GigabitEthernet0/0/0/4" ipv4="10.0.0.65" ipv6="2001:db8:a:0:1:1:0:43" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="5" name="GigabitEthernet0/0/0/5"/>
    </node>
    <node name="R18" type="SIMPLE" subtype="IOS XRv" location="1003,712" ipv4="1.1.1.18" ipv6="2001:cc13::18">
        <extensions>
            <entry key="config" type="string">!! IOS XR Configuration 6.1.3
!! Last configuration change at Tue Feb  6 20:59:36 2018 by cisco
!
!  IOS-XR Config generated on 2018-01-27 04:28
! by autonetkit_0.23.5
hostname R18
logging console debugging
logging monitor debugging
service timestamps log datetime msec
service timestamps debug datetime msec
telnet vrf default ipv4 server max-servers 10
telnet vrf Mgmt-intf ipv4 server max-servers 10
domain name virl.info
domain lookup disable
cdp
vrf A
 address-family ipv4 unicast
  import route-target
   1:1
  !
  export route-target
   1:1
  !
 !
 address-family ipv6 unicast
  import route-target
   1:1
  !
  export route-target
   1:1
  !
 !
!
vrf B
 address-family ipv4 unicast
  import route-target
   200:18
  !
  export route-target
   200:18
  !
 !
 address-family ipv6 unicast
  import route-target
   200:18
  !
  export route-target
   200:18
  !
 !
!
vrf Mgmt-intf
 address-family ipv4 unicast
 !
 address-family ipv6 unicast
 !
!
line template vty
 timestamp
 exec-timeout 720 0
!
line console
 exec-timeout 0 0
!
line default
 exec-timeout 720 0
!
vty-pool default 0 50
control-plane
 management-plane
  inband
   interface all
    allow all
   !
  !
 !
!
interface Loopback0
 description Loopback
 ipv4 address 1.1.1.18 255.255.255.255
 ipv6 address 2001:cc13::18/128
!
interface MgmtEth0/0/CPU0/0
 description OOB Management
 cdp
 ! Configured on launch
 vrf Mgmt-intf
 ipv4 address 172.16.1.118 255.255.255.0
!
interface GigabitEthernet0/0/0/0
 description to R20
 cdp
 ipv4 address 10.0.0.113 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:72/126
!
interface GigabitEthernet0/0/0/1
 description to R19
 cdp
 ipv4 address 10.0.0.109 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:6e/126
!
interface GigabitEthernet0/0/0/2
 description to R16
 cdp
 ipv4 address 10.0.0.94 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:5f/126
!
interface GigabitEthernet0/0/0/3
 description to R17
 cdp
 ipv4 address 10.0.0.98 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:63/126
!
interface GigabitEthernet0/0/0/4
 description to R9
 cdp
 vrf A
 ipv4 address 10.0.0.69 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:47/126
!
interface GigabitEthernet0/0/0/5
 description to R10
 cdp
 vrf B
 ipv4 address 10.0.0.74 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:4b/126
!
route-policy PASS
  pass
end-policy
!
route-policy bgp_in
  pass
end-policy
!
route-policy bgp_out
  pass
end-policy
!
route-policy rpf-for-B
  set core-tree mldp-default
end-policy
!
router isis 1
 is-type level-2-only
 net 49.0001.0000.0000.0018.00
 address-family ipv4 unicast
  distance 109
  mpls ldp auto-config
 !
 address-family ipv6 unicast
  metric-style wide
  distance 109
 !
 interface Loopback0
  passive
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/0
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/1
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/2
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/3
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
!
router ospf 1
 log adjacency changes
 segment-routing mpls
 segment-routing forwarding mpls
 distance 108
 area 0
  interface Loopback0
   passive enable
   prefix-sid absolute 16018
  !
  interface GigabitEthernet0/0/0/0
   cost 1
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
  interface GigabitEthernet0/0/0/2
   cost 1
  !
  interface GigabitEthernet0/0/0/3
   cost 1
  !
 !
!
router ospf 100
 vrf A
  redistribute bgp 200
  area 1
   interface GigabitEthernet0/0/0/4
   !
  !
 !
!
router ospfv3 1
 router-id 1.1.1.18
 area 0
  interface Loopback0
   passive
  !
  interface GigabitEthernet0/0/0/0
   cost 1
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
  interface GigabitEthernet0/0/0/2
   cost 1
  !
  interface GigabitEthernet0/0/0/3
   cost 1
  !
 !
 address-family ipv6 unicast
!
router ospfv3 100
 vrf A
  redistribute bgp 200
  area 0
   interface GigabitEthernet0/0/0/4
   !
  !
 !
!
router bgp 200
 address-family ipv4 unicast
 !
 address-family vpnv4 unicast
 !
 address-family vpnv6 unicast
 !
 address-family ipv4 mvpn
 !
 neighbor 1.1.1.16
  remote-as 200
  update-source Loopback0
  address-family ipv4 unicast
  !
  address-family vpnv4 unicast
  !
  address-family vpnv6 unicast
  !
  address-family ipv4 mvpn
  !
 !
 vrf A
  rd 1:1
  address-family ipv4 unicast
   redistribute ospf 100
  !
  address-family ipv6 unicast
   redistribute ospfv3 100
  !
 !
 vrf B
  rd 2:2
  address-family ipv4 unicast
  !
  address-family ipv6 unicast
  !
  address-family ipv4 mvpn
  !
  neighbor 10.0.0.73
   remote-as 65001
   address-family ipv4 unicast
    route-policy PASS in
    route-policy PASS out
    as-override
   !
  !
  neighbor 2001:db8:a:0:1:1:0:4a
   remote-as 65001
   address-family ipv6 unicast
    route-policy PASS in
    route-policy PASS out
    as-override
   !
  !
 !
!
multicast-routing
 address-family ipv4
  interface Loopback0
   enable
  !
 !
 vrf B
  address-family ipv4
   mdt source Loopback0
   rate-per-route
   interface all enable
   accounting per-prefix
   bgp auto-discovery mldp
   !
   mdt default mldp p2mp
   mdt data 100
  !
 !
!
router pim
 vrf B
  address-family ipv4
   rpf topology route-policy rpf-for-B
   mdt c-multicast-routing bgp
   !
  !
 !
!
ssh server v2
ssh server vrf Mgmt-intf
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.118</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0/0/0" ipv4="10.0.0.113" ipv6="2001:db8:a:0:1:1:0:72" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet0/0/0/1" ipv4="10.0.0.109" ipv6="2001:db8:a:0:1:1:0:6e" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet0/0/0/2" ipv4="10.0.0.94" ipv6="2001:db8:a:0:1:1:0:5f" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="3" name="GigabitEthernet0/0/0/3" ipv4="10.0.0.98" ipv6="2001:db8:a:0:1:1:0:63" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="4" name="GigabitEthernet0/0/0/4" ipv4="10.0.0.69" ipv6="2001:db8:a:0:1:1:0:47" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="5" name="GigabitEthernet0/0/0/5" ipv4="10.0.0.74" ipv6="2001:db8:a:0:1:1:0:4b" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <node name="R19" type="SIMPLE" subtype="IOS XRv" location="814,503" ipv4="1.1.1.19" ipv6="2001:cc13::19">
        <extensions>
            <entry key="config" type="string">!! IOS XR Configuration 6.1.3
!! Last configuration change at Tue Feb  6 20:59:35 2018 by cisco
!
!  IOS-XR Config generated on 2018-01-27 04:28
! by autonetkit_0.23.5
hostname R19
logging console debugging
logging monitor debugging
service timestamps log datetime msec
service timestamps debug datetime msec
telnet vrf default ipv4 server max-servers 10
telnet vrf Mgmt-intf ipv4 server max-servers 10
domain name virl.info
domain lookup disable
cdp
vrf Mgmt-intf
 address-family ipv4 unicast
 !
 address-family ipv6 unicast
 !
!
line template vty
 timestamp
 exec-timeout 720 0
!
line console
 exec-timeout 0 0
!
line default
 exec-timeout 720 0
!
vty-pool default 0 50
control-plane
 management-plane
  inband
   interface all
    allow all
   !
  !
 !
!
interface Loopback0
 description Loopback
 ipv4 address 1.1.1.19 255.255.255.255
 ipv6 address 2001:cc13::19/128
!
interface MgmtEth0/0/CPU0/0
 description OOB Management
 cdp
 ! Configured on launch
 vrf Mgmt-intf
 ipv4 address 172.16.1.119 255.255.255.0
!
interface GigabitEthernet0/0/0/0
 description to R4
 cdp
 ipv4 address 10.0.0.57 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:3b/126
!
interface GigabitEthernet0/0/0/1
 description to R17
 cdp
 ipv4 address 10.0.0.102 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:67/126
!
interface GigabitEthernet0/0/0/2
 description to R18
 cdp
 ipv4 address 10.0.0.110 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:6f/126
!
interface GigabitEthernet0/0/0/3
 description to R20
 cdp
 ipv4 address 10.0.0.117 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:76/126
!
interface GigabitEthernet0/0/0/4
 ipv4 address 192.168.0.19 255.255.255.0
!
route-policy PASS
  pass
end-policy
!
route-policy bgp_in
  pass
end-policy
!
route-policy bgp_out
  pass
end-policy
!
route-policy BGP_TO_ISIS
  if destination in (0.0.0.0/0 ge 32) then
    pass
  else
    drop
  endif
end-policy
!
router static
 address-family ipv4 unicast
  10.0.0.58/32 GigabitEthernet0/0/0/0
 !
!
router isis 1
 is-type level-2-only
 net 49.0001.0000.0000.0019.00
 address-family ipv4 unicast
  redistribute bgp 200 level-2 route-policy BGP_TO_ISIS
  distance 109
  mpls ldp auto-config
 !
 address-family ipv6 unicast
  metric-style wide
  distance 109
 !
 interface Loopback0
  passive
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/1
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/2
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/3
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
!
router ospf 1
 log adjacency changes
 segment-routing mpls
 segment-routing forwarding mpls
 distance 108
 area 0
  interface Loopback0
   passive enable
   prefix-sid absolute 16019
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
  interface GigabitEthernet0/0/0/2
   cost 1
  !
  interface GigabitEthernet0/0/0/3
   cost 1
  !
 !
!
router ospfv3 1
 router-id 1.1.1.19
 area 0
  interface Loopback0
   passive
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
  interface GigabitEthernet0/0/0/2
   cost 1
  !
  interface GigabitEthernet0/0/0/3
   cost 1
  !
 !
 address-family ipv6 unicast
!
router bgp 200
 address-family ipv4 unicast
  network 1.1.1.16/32
  network 1.1.1.17/32
  network 1.1.1.18/32
  allocate-label all
 !
 address-family vpnv4 unicast
 !
 address-family vpnv6 unicast
 !
 neighbor 1.1.1.16
  remote-as 200
  update-source Loopback0
  address-family ipv4 unicast
  !
  address-family vpnv4 unicast
  !
  address-family vpnv6 unicast
  !
 !
 neighbor 10.0.0.58
  remote-as 100
  address-family ipv4 labeled-unicast
   route-policy PASS in
   route-policy PASS out
  !
 !
!
ssh server v2
ssh server vrf Mgmt-intf
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.119</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0/0/0" ipv4="10.0.0.57" ipv6="2001:db8:a:0:1:1:0:3b" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet0/0/0/1" ipv4="10.0.0.102" ipv6="2001:db8:a:0:1:1:0:67" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet0/0/0/2" ipv4="10.0.0.110" ipv6="2001:db8:a:0:1:1:0:6f" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="3" name="GigabitEthernet0/0/0/3" ipv4="10.0.0.117" ipv6="2001:db8:a:0:1:1:0:76" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="4" name="GigabitEthernet0/0/0/4"/>
    </node>
    <node name="R20" type="SIMPLE" subtype="IOS XRv" location="820,709" ipv4="1.1.1.20" ipv6="2001:cc13::20">
        <extensions>
            <entry key="config" type="string">!! IOS XR Configuration 6.1.3
!! Last configuration change at Tue Feb  6 20:59:35 2018 by cisco
!
!  IOS-XR Config generated on 2018-01-27 04:28
! by autonetkit_0.23.5
hostname R20
logging console debugging
logging monitor debugging
service timestamps log datetime msec
service timestamps debug datetime msec
telnet vrf default ipv4 server max-servers 10
telnet vrf Mgmt-intf ipv4 server max-servers 10
domain name virl.info
domain lookup disable
cdp
vrf Mgmt-intf
 address-family ipv4 unicast
 !
 address-family ipv6 unicast
 !
!
line template vty
 timestamp
 exec-timeout 720 0
!
line console
 exec-timeout 0 0
!
line default
 exec-timeout 720 0
!
vty-pool default 0 50
control-plane
 management-plane
  inband
   interface all
    allow all
   !
  !
 !
!
interface Loopback0
 description Loopback
 ipv4 address 1.1.1.20 255.255.255.255
 ipv6 address 2001:cc13::20/128
!
interface MgmtEth0/0/CPU0/0
 description OOB Management
 cdp
 ! Configured on launch
 vrf Mgmt-intf
 ipv4 address 172.16.1.120 255.255.255.0
!
interface GigabitEthernet0/0/0/0
 description to R5
 cdp
 ipv4 address 10.0.0.61 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:3f/126
!
interface GigabitEthernet0/0/0/1
 description to R18
 cdp
 ipv4 address 10.0.0.114 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:73/126
!
interface GigabitEthernet0/0/0/2
 description to R17
 cdp
 ipv4 address 10.0.0.106 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:6b/126
!
interface GigabitEthernet0/0/0/3
 description to R19
 cdp
 ipv4 address 10.0.0.118 255.255.255.252
 ipv6 address 2001:db8:a:0:1:1:0:77/126
!
route-policy PASS
  pass
end-policy
!
route-policy bgp_in
  pass
end-policy
!
route-policy bgp_out
  pass
end-policy
!
route-policy BGP_TO_ISIS
  if destination in (0.0.0.0/0 ge 32) then
    pass
  else
    drop
  endif
end-policy
!
router static
 address-family ipv4 unicast
  10.0.0.62/32 GigabitEthernet0/0/0/0
 !
!
router isis 1
 is-type level-2-only
 net 49.0001.0000.0000.0020.00
 address-family ipv4 unicast
  redistribute bgp 200 level-2 route-policy BGP_TO_ISIS
  distance 109
  mpls ldp auto-config
 !
 address-family ipv6 unicast
  metric-style wide
  distance 109
 !
 interface Loopback0
  passive
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/1
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/2
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
 interface GigabitEthernet0/0/0/3
  suppressed
  bfd minimum-interval 333
  bfd multiplier 3
  bfd fast-detect ipv4
  bfd fast-detect ipv6
  point-to-point
  address-family ipv4 unicast
   fast-reroute per-prefix
  !
  address-family ipv6 unicast
  !
 !
!
router ospf 1
 log adjacency changes
 segment-routing mpls
 segment-routing forwarding mpls
 distance 108
 area 0
  interface Loopback0
   passive enable
   prefix-sid absolute 16020
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
  interface GigabitEthernet0/0/0/2
   cost 1
  !
  interface GigabitEthernet0/0/0/3
   cost 1
  !
 !
!
router ospfv3 1
 router-id 1.1.1.20
 area 0
  interface Loopback0
   passive
  !
  interface GigabitEthernet0/0/0/1
   cost 1
  !
  interface GigabitEthernet0/0/0/2
   cost 1
  !
  interface GigabitEthernet0/0/0/3
   cost 1
  !
 !
 address-family ipv6 unicast
!
router bgp 200
 address-family ipv4 unicast
  network 1.1.1.16/32
  network 1.1.1.17/32
  network 1.1.1.18/32
  allocate-label all
 !
 address-family vpnv4 unicast
 !
 address-family vpnv6 unicast
 !
 neighbor 1.1.1.16
  remote-as 200
  update-source Loopback0
  address-family ipv4 unicast
  !
  address-family vpnv4 unicast
  !
  address-family vpnv6 unicast
  !
 !
 neighbor 10.0.0.62
  remote-as 100
  address-family ipv4 labeled-unicast
   route-policy PASS in
   route-policy PASS out
  !
 !
!
ssh server v2
ssh server vrf Mgmt-intf
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"/>
            <entry key="Auto-generate config" type="Boolean">false</entry>
            <entry key="static_ip" type="String">172.16.1.120</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0/0/0" ipv4="10.0.0.61" ipv6="2001:db8:a:0:1:1:0:3f" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="1" name="GigabitEthernet0/0/0/1" ipv4="10.0.0.114" ipv6="2001:db8:a:0:1:1:0:73" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="2" name="GigabitEthernet0/0/0/2" ipv4="10.0.0.106" ipv6="2001:db8:a:0:1:1:0:6b" netPrefixLenV4="30" netPrefixLenV6="126"/>
        <interface id="3" name="GigabitEthernet0/0/0/3" ipv4="10.0.0.118" ipv6="2001:db8:a:0:1:1:0:77" netPrefixLenV4="30" netPrefixLenV6="126"/>
    </node>
    <annotations/>
    <connection dst="/virl:topology/virl:node[2]/virl:interface[1]" src="/virl:topology/virl:node[1]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[3]/virl:interface[1]" src="/virl:topology/virl:node[1]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[3]/virl:interface[2]" src="/virl:topology/virl:node[2]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[4]/virl:interface[1]" src="/virl:topology/virl:node[2]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[5]/virl:interface[1]" src="/virl:topology/virl:node[3]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[4]/virl:interface[2]" src="/virl:topology/virl:node[3]/virl:interface[4]"/>
    <connection dst="/virl:topology/virl:node[5]/virl:interface[2]" src="/virl:topology/virl:node[2]/virl:interface[4]"/>
    <connection dst="/virl:topology/virl:node[19]/virl:interface[1]" src="/virl:topology/virl:node[4]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[20]/virl:interface[1]" src="/virl:topology/virl:node[5]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[17]/virl:interface[1]" src="/virl:topology/virl:node[19]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[18]/virl:interface[1]" src="/virl:topology/virl:node[20]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[18]/virl:interface[2]" src="/virl:topology/virl:node[19]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[17]/virl:interface[2]" src="/virl:topology/virl:node[20]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[20]/virl:interface[4]" src="/virl:topology/virl:node[19]/virl:interface[4]"/>
    <connection dst="/virl:topology/virl:node[16]/virl:interface[1]" src="/virl:topology/virl:node[17]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[16]/virl:interface[2]" src="/virl:topology/virl:node[18]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[18]/virl:interface[4]" src="/virl:topology/virl:node[17]/virl:interface[4]"/>
    <connection dst="/virl:topology/virl:node[9]/virl:interface[1]" src="/virl:topology/virl:node[17]/virl:interface[5]"/>
    <connection dst="/virl:topology/virl:node[9]/virl:interface[2]" src="/virl:topology/virl:node[18]/virl:interface[5]"/>
    <connection dst="/virl:topology/virl:node[18]/virl:interface[6]" src="/virl:topology/virl:node[10]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[7]/virl:interface[1]" src="/virl:topology/virl:node[3]/virl:interface[5]"/>
    <connection dst="/virl:topology/virl:node[6]/virl:interface[1]" src="/virl:topology/virl:node[2]/virl:interface[5]"/>
    <connection dst="/virl:topology/virl:node[8]/virl:interface[1]" src="/virl:topology/virl:node[6]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[7]/virl:interface[2]" src="/virl:topology/virl:node[8]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[12]/virl:interface[1]" src="/virl:topology/virl:node[2]/virl:interface[6]"/>
    <connection dst="/virl:topology/virl:node[13]/virl:interface[1]" src="/virl:topology/virl:node[12]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[14]/virl:interface[1]" src="/virl:topology/virl:node[13]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[1]" src="/virl:topology/virl:node[14]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[11]/virl:interface[1]" src="/virl:topology/virl:node[3]/virl:interface[6]"/>
    <connection dst="/virl:topology/virl:node[5]/virl:interface[4]" src="/virl:topology/virl:node[11]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[17]/virl:interface[6]" src="/virl:topology/virl:node[15]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[14]/virl:interface[3]" src="/virl:topology/virl:node[19]/virl:interface[5]"/>
</topology>
